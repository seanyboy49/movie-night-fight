{"version":3,"sources":["pages/Home/index.js","providers/Configuration/index.js","config.js","auth/index.js","pages/Login/index.js","pages/MoviesList/index.js","components/DropdownMenu/styled.js","styles/Text.js","components/DropdownMenu/index.js","components/Hamburger/styled.js","components/Hamburger/index.js","components/NavigationHeader/styled.js","components/NavigationHeader/index.js","providers/Movies/index.js","pages/SignUp/index.js","App.js","reportWebVitals.js","index.js"],"names":["Home","ConfigurationContext","React","createContext","useConfiguration","useContext","ConfigurationProvider","children","value","Provider","config","apiUrl","createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","r","json","useAuth","login","logout","Login","useState","username","setUsername","password","setPassword","logged","history","useHistory","e","a","preventDefault","JSON","stringify","response","push","console","log","onClick","type","placeholder","onChange","target","autoComplete","MoviesList","Menu","styled","div","isOpen","SmallText","p","Divider","hr","DropdownMenu","StyledBurger","button","Burger","AppTitle","h1","NavContainer","NavigationHeader","setIsOpen","Hamburger","MoviesContext","MoviesProvider","to","Signup","App","Configuration","path","Movies","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad4206ef.chunk.js","sourcesContent":["import React from 'react'\n\nconst Home = () => {\n  return <h1>Home</h1>\n}\n\nexport default Home\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\n\nconst ConfigurationContext = React.createContext()\n\nexport const useConfiguration = () => {\n  return useContext(ConfigurationContext) || {}\n}\n\nconst ConfigurationProvider = ({ children, value }) => {\n  return (\n    <ConfigurationContext.Provider value={value}>\n      {children}\n    </ConfigurationContext.Provider>\n  )\n}\n\nConfigurationProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.shape({ apiUrl: PropTypes.string }),\n}\n\nexport default ConfigurationProvider\n","const apiUrl =\n  process.env.NODE_ENV === 'development'\n    ? 'http://0.0.0.0:8000/api'\n    : 'https://movienightfight.herokuapp.com/api'\n\nconst config = {\n  apiUrl,\n}\n\nexport default config\n","import { createAuthProvider } from 'react-token-auth'\n\nimport config from '../config'\n\nconst { apiUrl } = config\n\nexport const [useAuth, authFetch, login, logout] = createAuthProvider({\n  accessTokenKey: 'access_token',\n  onUpdateToken: (token) => {\n    fetch(`${apiUrl}/refresh`, {\n      method: 'POST',\n      body: token.access_token,\n    }).then((r) => r.json())\n  },\n})\n","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { useConfiguration } from '../../providers/Configuration'\nimport { login, logout, useAuth } from '../../auth'\n\nconst Login = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const [logged] = useAuth()\n  const { apiUrl } = useConfiguration()\n  const history = useHistory()\n\n  async function onSubmit(e) {\n    e.preventDefault()\n    const body = {\n      username,\n      password,\n    }\n    try {\n      const response = await fetch(`${apiUrl}/login`, {\n        method: 'POST',\n        body: JSON.stringify(body),\n      })\n\n      const { access_token } = await response.json()\n      login(access_token)\n      history.push('/movies-list')\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  return (\n    <>\n      <h2>Login</h2>\n      {logged ? (\n        <button onClick={logout}>Logout</button>\n      ) : (\n        <form>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={(e) => setUsername(e.target.value)}\n              value={username}\n            />\n          </div>\n\n          <div>\n            <input\n              autoComplete=\"new-password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n            />\n          </div>\n\n          <button onClick={onSubmit}>Login Now</button>\n        </form>\n      )}\n    </>\n  )\n}\n\nexport default Login\n","import React from 'react'\n\nconst MoviesList = () => {\n  return <h1></h1>\n}\n\nexport default MoviesList\n","import styled from 'styled-components'\n\nexport const Menu = styled.div`\n  background: white;\n  position: absolute;\n  width: 100%;\n  transition: transform 0.3s ease-in-out;\n\n  box-shadow: ${({ isOpen }) =>\n    isOpen ? '0 8px 6px -6px black' : 'undefined'};\n\n  transform: ${({ isOpen }) =>\n    isOpen ? 'translateY(80%)' : 'translateY(-100%)'};\n\n  p {\n    text-align: center;\n  }\n`\n","import styled from 'styled-components'\n\nexport const SmallText = styled.p`\n  font-family: bevan;\n  font-size: 18px;\n`\n\nexport const Divider = styled.hr`\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: 1px solid #ccc;\n  margin: 1em auto;\n  width: 70%;\n  padding: 0;\n`\n","import React from 'react'\n\nimport { Menu } from './styled'\nimport { SmallText, Divider } from '../../styles/Text'\nimport { logout } from '../../auth'\n\nconst DropdownMenu = ({ isOpen }) => {\n  return (\n    <Menu isOpen={isOpen}>\n      <SmallText>View past choices</SmallText>\n      <Divider />\n      <SmallText>Switch houses</SmallText>\n      <Divider />\n      <SmallText onClick={logout}>Log out</SmallText>\n    </Menu>\n  )\n}\n\nexport default DropdownMenu\n","import styled from 'styled-components'\n\nexport const StyledBurger = styled.button`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 2rem;\n  height: 2rem;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 10;\n\n  &:focus {\n    outline: none;\n  }\n\n  div {\n    width: 2rem;\n    height: 0.25rem;\n    background: black;\n    border-radius: 10px;\n    transition: all 0.3s linear;\n    position: relative;\n    transform-origin: 1px;\n\n    :first-child {\n      transform: ${({ isOpen }) => (isOpen ? 'rotate(45deg)' : 'rotate(0)')};\n    }\n\n    :nth-child(2) {\n      opacity: ${({ isOpen }) => (isOpen ? '0' : '1')};\n      transform: ${({ isOpen }) =>\n        isOpen ? 'translateX(20px)' : 'translateX(0)'};\n    }\n\n    :nth-child(3) {\n      transform: ${({ isOpen }) => (isOpen ? 'rotate(-45deg)' : 'rotate(0)')};\n    }\n  }\n`\n","import React from 'react'\n\nimport { StyledBurger } from './styled'\n\nconst Burger = ({ onClick, isOpen }) => {\n  return (\n    <StyledBurger isOpen={isOpen} onClick={() => onClick(!isOpen)}>\n      <div />\n      <div />\n      <div />\n    </StyledBurger>\n  )\n}\n\nexport default Burger\n","import styled from 'styled-components'\n\nexport const AppTitle = styled.h1`\n  font-family: bevan;\n  font-size: 20px;\n`\n\nexport const NavContainer = styled.div`\n  background-color: white;\n  display: flex;\n  padding: 1rem;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid #ccc;\n\n  > * {\n    margin-left: auto;\n  }\n`\n","import React, { useState } from 'react'\nimport DropdownMenu from '../DropdownMenu'\n\nimport Hamburger from '../Hamburger'\nimport { NavContainer, AppTitle } from './styled'\n\nconst NavigationHeader = () => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  return (\n    <>\n      <NavContainer>\n        <AppTitle>Movie Night Fight</AppTitle>\n\n        <Hamburger onClick={setIsOpen} isOpen={isOpen} />\n        <DropdownMenu isOpen={isOpen} />\n      </NavContainer>\n    </>\n  )\n}\n\nexport default NavigationHeader\n","import React, { useContext } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\n\nimport NavigationHeader from '../../components/NavigationHeader'\n\nimport { useAuth } from '../../auth'\n\nconst MoviesContext = React.createContext()\n\nexport const useMovies = () => {\n  return useContext(MoviesContext) || {}\n}\n\nconst MoviesProvider = ({ children, value }) => {\n  const [logged] = useAuth()\n\n  if (!logged) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return (\n    <MoviesContext.Provider value={value}>\n      <NavigationHeader />\n\n      {children}\n    </MoviesContext.Provider>\n  )\n}\n\nMoviesProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.shape({ movies: PropTypes.array }),\n}\n\nexport default MoviesProvider\n","import React, { useState } from 'react'\nimport { Redirect, useHistory } from 'react-router-dom'\n\nimport { login, useAuth } from '../../auth'\nimport { useConfiguration } from '../../providers/Configuration'\n\nconst Signup = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const [logged] = useAuth()\n  const { apiUrl } = useConfiguration()\n  const history = useHistory()\n\n  async function onSubmit(e) {\n    e.preventDefault()\n\n    const body = {\n      username,\n      password,\n    }\n\n    try {\n      const response = await fetch(`${apiUrl}/signup`, {\n        method: 'POST',\n        body: JSON.stringify(body),\n      })\n\n      const { access_token } = await response.json()\n\n      await login(access_token)\n      history.push('/movies-list')\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  if (logged) {\n    return <Redirect to=\"/movies-list\" />\n  }\n\n  return (\n    <>\n      <h2>Sign up!</h2>\n      <form>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            onChange={(e) => setUsername(e.target.value)}\n            value={username}\n          />\n        </div>\n        <div>\n          <input\n            autoComplete=\"new-password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n        </div>\n        <button onClick={onSubmit}>Sign Up!</button>\n      </form>\n    </>\n  )\n}\n\nexport default Signup\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport Home from './pages/Home'\nimport Login from './pages/Login'\nimport MoviesList from './pages/MoviesList'\nimport ConfigurationProvider from './providers/Configuration'\nimport MoviesProvider from './providers/Movies'\nimport config from './config'\nimport Signup from './pages/SignUp'\n\nconst { apiUrl } = config\n\nconst App = () => {\n  return (\n    <ConfigurationProvider value={{ apiUrl }}>\n      <Router>\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n\n          <Route path=\"/signup\">\n            <Signup />\n          </Route>\n\n          <Route path=\"/home\">\n            <Home />\n          </Route>\n\n          <MoviesProvider>\n            <Route path=\"/movies-list\">\n              <MoviesList />\n            </Route>\n          </MoviesProvider>\n        </Switch>\n      </Router>\n    </ConfigurationProvider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}