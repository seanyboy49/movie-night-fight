{"version":3,"sources":["pages/Home/index.js","providers/Configuration/index.js","config.js","auth/index.js","pages/Login/index.js","pages/MoviesList/index.js","providers/Movies/index.js","pages/SignUp/index.js","App.js","reportWebVitals.js","index.js"],"names":["Home","ConfigurationContext","React","createContext","useConfiguration","useContext","ConfigurationProvider","children","value","Provider","config","apiUrl","createAuthProvider","accessTokenKey","onUpdateToken","token","fetch","method","body","access_token","then","r","json","useAuth","login","logout","Login","useState","username","setUsername","password","setPassword","logged","history","useHistory","e","a","preventDefault","JSON","stringify","response","push","console","log","onClick","type","placeholder","onChange","target","autoComplete","MoviesList","MoviesContext","MoviesProvider","to","Signup","App","Configuration","path","Movies","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5d6034a0.chunk.js","sourcesContent":["import React from 'react'\n\nconst Home = () => {\n  return <h1>Home</h1>\n}\n\nexport default Home\n","import React, { useContext } from 'react'\nimport PropTypes from 'prop-types'\n\nconst ConfigurationContext = React.createContext()\n\nexport const useConfiguration = () => {\n  return useContext(ConfigurationContext) || {}\n}\n\nconst ConfigurationProvider = ({ children, value }) => {\n  return (\n    <ConfigurationContext.Provider value={value}>\n      {children}\n    </ConfigurationContext.Provider>\n  )\n}\n\nConfigurationProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.shape({ apiUrl: PropTypes.string }),\n}\n\nexport default ConfigurationProvider\n","const apiUrl =\n  process.env.NODE_ENV === 'development'\n    ? 'http://0.0.0.0:8000/api'\n    : 'https://movienightfight.herokuapp.com/api'\n\nconst config = {\n  apiUrl,\n}\n\nexport default config\n","import { createAuthProvider } from 'react-token-auth'\n\nimport config from '../config'\n\nconst { apiUrl } = config\n\nexport const [useAuth, authFetch, login, logout] = createAuthProvider({\n  accessTokenKey: 'access_token',\n  onUpdateToken: (token) => {\n    fetch(`${apiUrl}/refresh`, {\n      method: 'POST',\n      body: token.access_token,\n    }).then((r) => r.json())\n  },\n})\n","import React, { useState } from 'react'\nimport { useHistory } from 'react-router-dom'\n\nimport { useConfiguration } from '../../providers/Configuration'\nimport { login, logout, useAuth } from '../../auth'\n\nconst Login = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const [logged] = useAuth()\n  const { apiUrl } = useConfiguration()\n  const history = useHistory()\n\n  async function onSubmit(e) {\n    e.preventDefault()\n    const body = {\n      username,\n      password,\n    }\n    try {\n      const response = await fetch(`${apiUrl}/login`, {\n        method: 'POST',\n        body: JSON.stringify(body),\n      })\n\n      const { access_token } = await response.json()\n      login(access_token)\n      history.push('/movies-list')\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  return (\n    <>\n      <h2>Login</h2>\n      {logged ? (\n        <button onClick={logout}>Logout</button>\n      ) : (\n        <form>\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              onChange={(e) => setUsername(e.target.value)}\n              value={username}\n            />\n          </div>\n\n          <div>\n            <input\n              autoComplete=\"new-password\"\n              type=\"password\"\n              placeholder=\"Password\"\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n            />\n          </div>\n\n          <button onClick={onSubmit}>Login Now</button>\n        </form>\n      )}\n    </>\n  )\n}\n\nexport default Login\n","import React from 'react'\n\nconst MoviesList = () => {\n  return <h1>Movies List</h1>\n}\n\nexport default MoviesList\n","import React, { useContext } from 'react'\nimport { Redirect } from 'react-router-dom'\nimport PropTypes from 'prop-types'\nimport { useAuth } from '../../auth'\n\nconst MoviesContext = React.createContext()\n\nexport const useMovies = () => {\n  return useContext(MoviesContext) || {}\n}\n\nconst MoviesProvider = ({ children, value }) => {\n  const [logged] = useAuth()\n\n  if (!logged) {\n    return <Redirect to=\"/login\" />\n  }\n\n  return (\n    <MoviesContext.Provider value={value}>{children}</MoviesContext.Provider>\n  )\n}\n\nMoviesProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n  value: PropTypes.shape({ movies: PropTypes.array }),\n}\n\nexport default MoviesProvider\n","import React, { useState } from 'react'\nimport { Redirect, useHistory } from 'react-router-dom'\n\nimport { login, useAuth } from '../../auth'\nimport { useConfiguration } from '../../providers/Configuration'\n\nconst Signup = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const [logged] = useAuth()\n  const { apiUrl } = useConfiguration()\n  const history = useHistory()\n\n  async function onSubmit(e) {\n    e.preventDefault()\n\n    const body = {\n      username,\n      password,\n    }\n\n    try {\n      const response = await fetch(`${apiUrl}/signup`, {\n        method: 'POST',\n        body: JSON.stringify(body),\n      })\n\n      const { access_token } = await response.json()\n\n      login(access_token)\n    } catch (error) {\n      console.log('error', error)\n    }\n  }\n\n  if (logged) {\n    return <Redirect to=\"/movies-list\" />\n  }\n\n  return (\n    <>\n      <h2>Sign up!</h2>\n      <form>\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            onChange={(e) => setUsername(e.target.value)}\n            value={username}\n          />\n        </div>\n        <div>\n          <input\n            autoComplete=\"new-password\"\n            type=\"password\"\n            placeholder=\"Password\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n        </div>\n        <button onClick={onSubmit}>Sign Up!</button>\n      </form>\n    </>\n  )\n}\n\nexport default Signup\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\nimport Home from './pages/Home'\nimport Login from './pages/Login'\nimport MoviesList from './pages/MoviesList'\nimport ConfigurationProvider from './providers/Configuration'\nimport MoviesProvider from './providers/Movies'\nimport config from './config'\nimport Signup from './pages/SignUp'\n\nconst { apiUrl } = config\n\nconst App = () => {\n  return (\n    <ConfigurationProvider value={{ apiUrl }}>\n      <Router>\n        <Switch>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n\n          <Route path=\"/signup\">\n            <Signup />\n          </Route>\n\n          <Route path=\"/home\">\n            <Home />\n          </Route>\n\n          <MoviesProvider>\n            <Route path=\"/movies-list\">\n              <MoviesList />\n            </Route>\n          </MoviesProvider>\n        </Switch>\n      </Router>\n    </ConfigurationProvider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}